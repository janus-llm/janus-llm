:py:mod:`janus.embedding.vectorize`
===================================

.. py:module:: janus.embedding.vectorize


Module Contents
---------------

Classes
~~~~~~~

.. autoapisummary::

   janus.embedding.vectorize.Vectorizer
   janus.embedding.vectorize.VectorizerFactory
   janus.embedding.vectorize.ChromaDBVectorizer




.. py:class:: Vectorizer(client)


   Bases: :py:obj:`object`

   Class for creating embeddings/vectors in a specified ChromaDB

   Initializes the Vectorizer class

   :param client: ChromaDB client instance

   .. py:method:: create_collection(embedding_type)


   .. py:method:: collections(name = None)


   .. py:method:: add_nodes_recursively(code_block, collection_name, file_name)

      Embed all nodes in the tree rooted at `code_block`

      :param code_block: CodeBlock to embed
      :param collection_name: Collection to add to
      :param file_name: Name of file containing `code_block`


   .. py:method:: add_text(collection_name, texts, metadatas, ids = None)

      Helper function that stores a single text (in an array) and associated
      metadatas, returning the embedding id

      :param collection_name: Collection to add to
      :param texts: list of texts to store
      :param metadatas: list of metadatas to store
      :param ids: list of embedding ids (must match lengh of texts),
                  generated if not given by caller

      :returns: list of embedding ids. Raises ValueError if collection not found.



.. py:class:: VectorizerFactory


   Bases: :py:obj:`abc.ABC`

   Interface for creating a Vectorizer independent of type of ChromaDB client

   .. py:method:: create_vectorizer(path)
      :abstractmethod:

      Factory method



.. py:class:: ChromaDBVectorizer


   Bases: :py:obj:`VectorizerFactory`

   Factory for Vectorizer that uses ChromaEmbeddingDatabase

   .. py:method:: create_vectorizer(path = Path.home() / '.janus' / 'chroma' / 'chroma-data')

      :param path: The path to the ChromaDB. Can be either a string of a URL or path or a
                   Path object
      :param Returns: Vectorizer



