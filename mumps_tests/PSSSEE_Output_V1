1. The system shall prompt the user to enter a drug.
2. The system shall display a list of drugs for the user to choose from.
3. If the user does not select a drug, the system shall exit the program.
4. The system shall lock the selected drug record in the ^PSDRUG global.
5. If another user is editing the selected drug record, the system shall display an error message and exit the program.
6. The system shall perform common operations on the selected drug record.
7. If the selected drug record does not have a unique identifier for the drug in the PSSHUIDG global, the system shall call the DRG^PSSHUIDG subroutine to generate one.
8. The system shall iterate through all entries in the ^PS(59 global.
9. For each entry, the system shall retrieve the drug version and drug manufacturer update flag.
10. If the drug version is "2.4" and the drug manufacturer update flag is "YES", the system shall retrieve the DNS name and DNS port from the ^PS(59 global.
11. If the DNS name is not empty, the system shall call the DRG^PSSDGUPD subroutine to update the selected drug record with the DNS name and DNS port.
12. The system shall unlock the selected drug record in the ^PSDRUG global.
13. The system shall perform common operations on the selected drug record.
14. The system shall display the main menu.
15. The system shall clear the screen.