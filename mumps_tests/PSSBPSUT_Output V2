Requirements:

1. The system shall provide a function named NCPDPQTY that takes two parameters: DRUG and RXQTY.
2. The DRUG parameter shall be the IEN (Internal Entry Number) of the DRUG file (#50).
3. The RXQTY parameter shall be the quantity dispensed from the PRESCRIPTION file (#52).
4. The system shall return the NCPDP quantity (Billing Quantity) and NCPDP Dispense Unit as output.
5. If the DRUG parameter is invalid or not found in the DRUG file, the system shall return "-1^INVALID DRUG".
6. If the NCPDP Dispense Unit is invalid (not "EA", "GM", or "ML"), the system shall return the RXQTY as the NCPDP quantity.
7. If the NCPDP Conversion Multiplier is invalid (less than or equal to 0), the system shall return the RXQTY and NCPDP Dispense Unit as the NCPDP quantity.
8. The system shall calculate the NCPDP quantity by multiplying the RXQTY with the NCPDP Conversion Multiplier.
9. The NCPDP quantity shall be rounded to 3 decimal places.
10. The system shall concatenate the NCPDP quantity and NCPDP Dispense Unit with a "^" separator and return it as the output.

11. The system shall provide a function named EPHARM that takes one parameter: PSSDRUG.
12. The PSSDRUG parameter shall be the IEN of the DRUG file (#50).
13. The system shall check if the INACTIVE DATE of the DRUG is greater than today. If not, the system shall skip the ePharmacy Billable Fields check.
14. The system shall retrieve the existing values of the ePharmacy Billable fields from the DRUG file and store them in an ARRAY.
15. The system shall check if any of the ePharmacy Billable fields in the ARRAY have a value defined. If so, the system shall skip the prompt for entering values.
16. If all three ePharmacy Billable fields in the ARRAY are nil, the system shall prompt the user to enter values.
17. The system shall display a message to the user explaining that ePharmacy claims will not be billed if the fields are not marked.
18. The system shall prompt the user to enter values for the ePharmacy Billable fields (Y/N).
19. If the user does not respond with "Y" (Yes), the system shall exit the function.
20. If the user responds with "Y" (Yes), the system shall display the three ePharmacy Billable fields to the user.
21. The system shall allow the user to enter values for the ePharmacy Billable fields.
22. The system shall update the ePharmacy Billable fields in the DRUG file with the user-entered values.
23. The system shall exit the function.