PSSPOIMP ;BIR/RTR/WRT-Edit Orderable Item Name and Inactive date ;7/20/04 1:45pm
 ;;1.0;PHARMACY DATA MANAGEMENT;**102,107**;9/30/97
ASKSYN ;PSS*1*102;PROMPT TO ADD DRUG TEXT AS SYNONYM
 N DIR
 S DIR(0)="Y"
 S DIR("A")="ADD THIS DRUG TEXT AS A SYNONYM? "
 S DIR("B")="N"
 D ^DIR
 I 'Y Q
 S X=$G(^PS(51.7,X(1),0))
 I X]"" S PPPTMP(50.72,D0,X)=""  ;; PSS*1*107 replace  with D0
 Q
ADDSYN ;ADD DRUG TEXT AS A SYNONYM
 N TMP,PSOERR,DIERR,X,PSOIEN
 S PSOIEN="" F  S PSOIEN=$O(PPPTMP(50.72,PSOIEN)) Q:PSOIEN=""  D
 .S X="" F  S X=$O(PPPTMP(50.72,PSOIEN,X)) Q:X=""  D
 ..I $D(^PS(50.7,PSOIEN,2,"B",X)) Q
 ..S TMP(50.72,"+2,"_PSOIEN_",",.01)=X
 ..D UPDATE^DIE("","TMP","","PSOERR")
 ..K DIE,DIR,DIERR,TMP
 K PPPTMP,TMP
 Q
